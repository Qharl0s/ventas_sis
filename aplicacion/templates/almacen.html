{% extends 'header_body.html' %}

{% block pagecontent %}

<div class="row">
  <div class="col-md-6 mb-4">
    <div class="card card-cascade narrower z-depth-1">
      <div class="view view-cascade gradient-card-header blue-gradient narrower py-2 mx-4 mb-3 d-flex justify-content-between align-items-center">
        <div>
          <button type="button" class="btn btn-outline-white btn-rounded btn-sm px-2"><i class="fas fa-th-large mt-0"></i></button>
        </div>
        <a href="" class="white-text mx-3">Productos / Stock</a>
        <div></div>
      </div>
      
      <div class="">
        <div class="table-responsive card">
          <table class="table">
            <thead style="background: #DDDBE8; color: black; opacity: 0.5;">
              <tr>
                <th scope="col">PRODUCTO</th>
                <th scope="col"></th>
                <th scope="col">STOCK</th>
                <th scope="col">UND</th>
                <th scope="col">+</th>
              </tr>
            </thead>
            <tbody>
              
              {% for producto in productos %}
                <tr data-id="{{producto.id}}" data-nombre="{{producto.cProducto}}" 
                  data-und="{{producto.cAgrupacion}}" data-conversion="{{producto.nConversion}}">
                  <th scope="row" class="producto">{{producto.cProducto}}</th>
                  <td>{{producto.cAgrupacion}} ({{producto.nConversion}})</td>
                  <td>{{producto.stockalmacen_set.first.cCantidad}}</td>
                  <td>{{producto.stockalmacen_set.first.nCantidad}} Und</td>
                  <td class="stock">
                    <div class="btn-group me-2" role="group" aria-label="First group">
                      <button type="button" class="btn btn-success btn-sm btn-mini agregar"  data-mdb-ripple-init
                        data-id="{{producto.stockalmacen_set.first.id}}" data-tipo="stock"
                      >
                        <i class="fas fa-plus"></i>
                      </button>
                    </div>
                </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-6 mb-4">
    <div class="card card-cascade narrower z-depth-1">
      <div class="view view-cascade gradient-card-header blue-gradient narrower py-2 mx-4 mb-3 d-flex justify-content-between align-items-center">
        <div>
          <button type="button" class="btn btn-outline-white btn-rounded btn-sm px-2"><i class="fas fa-th-large mt-0"></i></button>
        </div>
        <a href="" class="white-text mx-3">Histórico</a>
        <div>
            <input placeholder="Fecha" value="{{fecha}}" type="text" id="dFechaStock" class="form-control datepicker">
        </div>
      </div>
      
      <div class="">
        

        <div class="table-responsive card">
          <table class="table">
            <thead style="background: #DDDBE8; color: black; opacity: 0.5;">
              <tr>
                <th scope="col">PRODUCTO</th>
                <th scope="col">CANTIDAD</th>
                <th scope="col">Acción</th>
              </tr>
            </thead>
            <tbody>
              
              {% for entrada in entradas %}
                <tr>
                  <th scope="row">{{entrada.producto.cProducto}}</th>
                  <td>{{entrada.nCantidad}} Und</td>
                  <td class="stock">
                    <div class="btn-group me-2" role="group" aria-label="First group">
                      <button type="button" class="btn btn-danger btn-sm btn-mini eliminar"  data-mdb-ripple-init
                        data-id="{{entrada.id}}" data-tipo="stock"
                      >
                        <i class="fas fa-trash-can"></i>
                      </button>
                    </div>
                </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>


{% endblock pagecontent %}